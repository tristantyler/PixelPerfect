{"version":3,"sources":["Util.js","App.js","index.js"],"names":["undoList","redoList","toolHandler","e","params","tool","colorSelect","location","x","Math","floor","clientX","rect","left","size","y","clientY","top","canvasWidth","canvasHeight","getColor","push","color","prevColor","alpha","getAlpha","fill","floodFill","ctx","fillStyle","fillRect","length","pop","clearRect","mirX","p","getImageData","data","r","g","b","toString","rgbToHex","slice","q","filter","ar","index","self","findIndex","t","loc","shift","initcolor","leftLocation","leftColor","rightLocation","rightColor","upLocation","upColor","downLocation","downColor","colors","App","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimaitonFrame","callback","setTimeout","canvas","gridCanvas","gridctx","lastLoc","grid","isDrawing","document","addEventListener","getElementById","getContext","getBoundingClientRect","alert","touchStart","touchEnd","touchMove","mouseDown","mouseUp","mouseMove","touch","touches","col","vals","preventDefault","Navbar","bg","expand","Brand","href","Toggle","aria-controls","className","width","triangle","onChangeComplete","hex","Button","variant","onClick","undoButton","redoButton","id","download","toDataURL","save","height","style","cursor","beginPath","moveTo","lineTo","strokeStyle","stroke","toggleGrid","clear","rootElement","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.431ac0fd.chunk.js","sourcesContent":["let undoList = []\r\nlet redoList = []\r\n\r\nexport const clear = (params) => {\r\n  params.ctx.clearRect(0, 0, params.canvasWidth, params.canvasHeight)\r\n  return 'draw'\r\n}\r\nexport const save = () => {\r\n  const canvas = document.getElementById('canvas')\r\n  document.getElementById('saveButton').href = canvas.toDataURL()\r\n}\r\nexport const rgbToHex = (r, g, b) => {\r\n  if (r > 255 || g > 255 || b > 255) { throw 'Invalid color component' }\r\n  return ((r << 16) | (g << 8) | b).toString(16)\r\n}\r\nconst arrayUniqueFill = (arr) => {\r\n  return (arr.filter((ar, index, self) => self.findIndex(t => t.x === ar.x && t.y === ar.y) === index))\r\n}\r\nexport const toolHandler = (e, params, tool, colorSelect) => {\r\n  const location = { x: Math.floor((e.clientX - params.rect.left) / params.size), y: Math.floor((e.clientY - params.rect.top) / params.size) }\r\n  switch (tool) {\r\n    case 'fill':\r\n      if (location.x >= 0 && location.x < params.canvasWidth && location.y >= 0 && location.y < params.canvasHeight) {\r\n        if (colorSelect !== getColor(location, params)) {\r\n          undoList.push({ color: getColor(location, params), prevColor: colorSelect, location, alpha: getAlpha(location, params), fill: true})\r\n          floodFill(location, colorSelect, params, params.canvasWidth/params.size, params.canvasHeight/params.size)\r\n        }\r\n      }\r\n      return { colorSelect, tool }\r\n    case 'draw':\r\n      undoList.push({ color: getColor(location, params), prevColor: colorSelect, location, alpha: getAlpha(location, params)})\r\n\r\n      params.ctx.fillStyle = colorSelect\r\n      params.ctx.fillRect(location.x * params.size, location.y * params.size, params.size, params.size)\r\n      return { colorSelect, tool }\r\n    case 'undo':\r\n      if (undoList.length > 0) {\r\n        if (undoList[undoList.length-1].fill) {\r\n          if (undoList[undoList.length-1].alpha) {\r\n            floodFill(undoList[undoList.length - 1].location, undoList[undoList.length - 1].color, params, params.canvasWidth / params.size, params.canvasHeight / params.size)\r\n          } else {\r\n            floodFill(undoList[undoList.length - 1].location, \"alpha\", params, params.canvasWidth / params.size, params.canvasHeight / params.size)\r\n          }\r\n          undoList.pop()\r\n          tool = 'draw'\r\n          return { colorSelect, tool }\r\n        }\r\n        else if (undoList[undoList.length-1].alpha) {\r\n          params.ctx.fillStyle = undoList[undoList.length - 1].color\r\n          params.ctx.fillRect(undoList[undoList.length - 1].location.x * params.size, undoList[undoList.length - 1].location.y * params.size, params.size, params.size)\r\n          redoList.push({color: undoList[undoList.length-1].prevColor, location: undoList[undoList.length-1].location, alpha: undoList[undoList.length-1].alpha});\r\n        } else {\r\n          params.ctx.clearRect(undoList[undoList.length - 1].location.x * params.size, undoList[undoList.length - 1].location.y * params.size, params.size, params.size)\r\n          redoList.push({color: undoList[undoList.length-1].prevColor, location: undoList[undoList.length-1].location, alpha: 0});\r\n        }\r\n        undoList.pop()\r\n      }\r\n      tool = 'draw'\r\n      return { colorSelect, tool }\r\n    case 'redo':\r\n      if (redoList.length > 0) {\r\n        params.ctx.fillStyle = redoList[redoList.length - 1].color;\r\n        params.ctx.fillRect(redoList[redoList.length - 1].location.x * params.size, redoList[redoList.length - 1].location.y * params.size, params.size, params.size);\r\n        redoList.pop();\r\n      }\r\n      tool = 'draw'\r\n      return { colorSelect, tool }\r\n    case 'mirror':\r\n      let mirX = (params.canvasWidth/params.size) - location.x -1\r\n      undoList.push({ color: getColor(location, params), prevColor: colorSelect, location })\r\n      undoList.push({ color: getColor(location, params), prevColor: colorSelect, location: {x: mirX, y: location.y} })\r\n      params.ctx.fillStyle = colorSelect\r\n      params.ctx.fillRect(location.x * params.size, location.y * params.size, params.size, params.size)\r\n      params.ctx.fillRect(mirX * params.size, location.y * params.size, params.size, params.size)\r\n\r\n      return { colorSelect, tool }\r\n    case 'erase':\r\n      const alpha = getAlpha(location, params)\r\n      if (alpha) {\r\n        undoList.push({ color: getColor(location, params), prevColor: colorSelect, location, alpha})\r\n        params.ctx.clearRect(location.x * params.size, location.y * params.size, params.size, params.size)\r\n      }\r\n      return { colorSelect, tool }\r\n    case 'picker':\r\n      colorSelect = getAlpha(location, params)\r\n      tool = 'draw'\r\n      return { colorSelect, tool }\r\n    default:\r\n      params.ctx.clearRect(0, 0, params.canvasWidth, params.canvasHeight)\r\n      return { colorSelect, tool }\r\n  }\r\n}\r\nexport const getColor = (location, params) => {\r\n  const p = params.ctx.getImageData(location.x * params.size, location.y * params.size, 1, 1).data\r\n  return '#' + ('000000' + rgbToHex(p[0], p[1], p[2])).slice(-6)\r\n};\r\n\r\nexport const getAlpha = (location, params) => {\r\n  return params.ctx.getImageData(location.x * params.size, location.y * params.size, 1, 1).data[3];\r\n};\r\n\r\nconst floodFill = (location, colorSelect, params, canvasWidth, canvasHeight) => {\r\n  let q = []\r\n  q.push(location)\r\n  q.push(location); q.push(location); q.push(location)\r\n  while (q.length > 0) {\r\n    q = arrayUniqueFill(q)\r\n    const loc = q.shift()\r\n    const initcolor = getColor(loc, params)\r\n    if (colorSelect === \"alpha\") {\r\n      params.ctx.clearRect(loc.x * params.size, loc.y * params.size, params.size, params.size)\r\n    } else {\r\n      params.ctx.fillStyle = colorSelect\r\n      params.ctx.fillRect(loc.x * params.size, loc.y * params.size, params.size, params.size)\r\n    }\r\n\r\n\r\n    const leftLocation = { x: loc.x - 1, y: loc.y }\r\n    const leftColor = getColor(leftLocation, params)\r\n    const rightLocation = { x: loc.x + 1, y: loc.y }\r\n    const rightColor = getColor(rightLocation, params)\r\n    const upLocation = { x: loc.x, y: loc.y - 1 }\r\n    const upColor = getColor(upLocation, params)\r\n    const downLocation = { x: loc.x, y: loc.y + 1 }\r\n    const downColor = getColor(downLocation, params)\r\n\r\n    if (leftLocation.x >= 0 && leftColor === initcolor) {\r\n      q.push(leftLocation)\r\n    }\r\n    if (rightLocation.x < (canvasWidth) && !(location.x === canvasWidth) && rightColor === initcolor) {\r\n      q.push(rightLocation)\r\n    }\r\n    if (upLocation.y >= 0 && upColor === initcolor) {\r\n      q.push(upLocation)\r\n    }\r\n    if (downLocation.y < (canvasHeight) && !(location.y === canvasHeight) && downColor === initcolor) {\r\n      q.push(downLocation)\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { GithubPicker } from 'react-color'\r\nimport './app.css'\r\nimport { Button, Navbar } from 'react-bootstrap'\r\n\r\nimport { toolHandler, save, clear, getColor } from './Util'\r\n\r\nconst size = 25\r\nconst width = 16\r\nconst height = 16\r\nconst canvasWidth = size * width\r\nconst canvasHeight = size * height\r\n\r\n\r\nconst colors = ['#ffebee', '#ffcdd2', '#ef9a9a', '#e57373', '#ef5350', '#f44336', '#e53935', '#d32f2f', '#c62828', '#b71c1c',\r\n  '#fce4ec', '#f8bbd0', '#f48fb1', '#f06292', '#ec407a', '#e91e63', '#d81b60', '#c2185b', '#ad1457', '#880e4f',\r\n  '#f3e5f5', '#e1bee7', '#ce93d8', '#ba68c8', '#ab47bc', '#9c27b0', '#8e24aa', '#7b1fa2', '#6a1b9a', '#4a148c',\r\n  '#ede7f6', '#d1c4e9', '#b39ddb', '#9575cd', '#7e57c2', '#673ab7', '#5e35b1', '#512da8', '#4527a0', '#311b92',\r\n  '#e8eaf6', '#c5cae9', '#9fa8da', '#7986cb', '#5c6bc0', '#3f51b5', '#3949ab', '#303f9f', '#283593', '#1a237e',\r\n  '#e3f2fd', '#bbdefb', '#90caf9', '#64b5f6', '#42a5f5', '#2196f3', '#1e88e5', '#1976d2', '#1565c0', '#0d47a1',\r\n  '#e1f5fe', '#b3e5fc', '#81d4fa', '#4fc3f7', '#29b6f6', '#03a9f4', '#039be5', '#0288d1', '#0277bd', '#01579b',\r\n  '#e0f7fa', '#b2ebf2', '#80deea', '#4dd0e1', '#26c6da', '#00bcd4', '#00acc1', '#0097a7', '#00838f', '#006064',\r\n  '#e0f2f1', '#b2dfdb', '#80cbc4', '#4db6ac', '#26a69a', '#009688', '#00897b', '#00796b', '#00695c', '#004d40',\r\n  '#e8f5e9', '#c8e6c9', '#a5d6a7', '#81c784', '#66bb6a', '#4caf50', '#43a047', '#388e3c', '#2e7d32', '#1b5e20',\r\n  '#f1f8e9', '#dcedc8', '#c5e1a5', '#aed581', '#9ccc65', '#8bc34a', '#7cb342', '#689f38', '#558b2f', '#33691e',\r\n  '#f9fbe7', '#f0f4c3', '#e6ee9c', '#dce775', '#d4e157', '#cddc39', '#c0ca33', '#afb42b', '#9e9d24', '#827717',\r\n  '#fffde7', '#fff9c4', '#fff59d', '#fff176', '#ffee58', '#ffeb3b', '#fdd835', '#fbc02d', '#f9a825', '#f57f17',\r\n  '#fff8e1', '#ffecb3', '#ffe082', '#ffd54f', '#ffca28', '#ffc107', '#ffb300', '#ffa000', '#ff8f00', '#ff6f00',\r\n  '#fff3e0', '#ffe0b2', '#ffcc80', '#ffb74d', '#ffa726', '#ff9800', '#fb8c00', '#f57c00', '#ef6c00', '#e65100',\r\n  '#fbe9e7', '#ffccbc', '#ffab91', '#ff8a65', '#ff7043', '#ff5722', '#f4511e', '#e64a19', '#d84315', '#bf360c',\r\n  '#efebe9', '#d7ccc8', '#bcaaa4', '#a1887f', '#8d6e63', '#795548', '#6d4c41', '#5d4037', '#4e342e', '#3e2723',\r\n  '#fafafa', '#f5f5f5', '#eeeeee', '#e0e0e0', '#bdbdbd', '#9e9e9e', '#757575', '#616161', '#424242', '#212121',\r\n  '#eceff1', '#cfd8dc', '#b0bec5', '#90a4ae', '#78909c', '#607d8b', '#546e7a', '#455a64', '#37474f', '#263238',\r\n  '#ffffff', '#000000']\r\n\r\nconst App = () => {\r\n  // Get a regular interval for drawing to the screen\r\n  window.requestAnimFrame = (function (callback) {\r\n    return window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      window.msRequestAnimaitonFrame ||\r\n      function (callback) {\r\n        window.setTimeout(callback, 1000/60);\r\n      };\r\n  })();\r\n  let lastLoc = {}\r\n  let grid = false\r\n  let canvas\r\n  let ctx\r\n  let rect\r\n  let gridCanvas\r\n  let gridctx\r\n  let params = {}\r\n\r\n  let colorSelect = '#ff0000'\r\n  let tool = 'draw'\r\n  let isDrawing = false\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", () => {\r\n    // console.log('started')\r\n    canvas = document.getElementById('canvas')\r\n    ctx = canvas.getContext('2d')\r\n    rect = canvas.getBoundingClientRect()\r\n    gridCanvas = document.getElementById('gridcanvas')\r\n    gridctx = gridCanvas.getContext('2d')\r\n    params = {canvas, ctx, rect, canvasWidth, canvasHeight, size}\r\n    // console.log(params)\r\n\r\n    document.getElementById('testTouch').addEventListener(\"touchstart\", () => {\r\n      alert('This is a touch event')\r\n    }, false);\r\n\r\n    canvas.addEventListener(\"touchstart\", touchStart, false);\r\n    canvas.addEventListener(\"touchend\", touchEnd, false);\r\n    canvas.addEventListener(\"touchcancel\", touchEnd, false);\r\n    canvas.addEventListener(\"touchmove\", touchMove, false);\r\n\r\n    canvas.addEventListener(\"mousedown\", mouseDown, false);\r\n    canvas.addEventListener(\"mouseup\", mouseUp, false);\r\n    canvas.addEventListener(\"mousemove\", mouseMove, false);\r\n    canvas.addEventListener(\"mouseleave\", mouseUp, false);\r\n  });\r\n  // Set up touch events for mobile, etc\r\n  const touchStart = (e) => {\r\n    const touch = e.touches[0];\r\n    // console.log(e.touches[0])\r\n    const location = { x: Math.floor((touch.clientX - rect.left) / size), y: Math.floor((touch.clientY - rect.top) / size) }\r\n    const col = getColor(location, params)\r\n    // console.log('touch start',location, ctx)\r\n    isDrawing = true\r\n    if (!(col===colorSelect) || tool==='erase') {\r\n      lastLoc = location\r\n      const vals = toolHandler(touch, params, tool, colorSelect)\r\n      colorSelect = vals.colorSelect\r\n      tool = vals.tool\r\n    }\r\n  }\r\n\r\n  const touchEnd = (e) => {\r\n    // console.log('touch end')\r\n    e.preventDefault()\r\n    isDrawing = false\r\n  };\r\n\r\n  const touchMove = (e) => {\r\n    if (isDrawing) {\r\n      const touch = e.touches[0];\r\n      const location = { x: Math.floor((touch.clientX - rect.left) / size), y: Math.floor((touch.clientY - rect.top) / size) }\r\n      const col = getColor(location, params)\r\n      // console.log('touch move',location, ctx)\r\n      if (!(col===colorSelect) || tool==='erase') {\r\n        if (!(lastLoc.x === location.x && lastLoc.y === location.y) || tool==='erase') {\r\n          lastLoc = location\r\n          const vals = toolHandler(touch, params, tool, colorSelect)\r\n          colorSelect = vals.colorSelect\r\n          tool = vals.tool\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const mouseDown = (e) => {\r\n    const location = { x: Math.floor((e.clientX - rect.left) / size), y: Math.floor((e.clientY - rect.top) / size) }\r\n    const col = getColor(location, params)\r\n    isDrawing = true\r\n    // console.log('mouse',location, ctx, e)\r\n    if (!(col===colorSelect) || tool==='erase') {\r\n      lastLoc = location\r\n      const vals = toolHandler(e, params, tool, colorSelect)\r\n      colorSelect = vals.colorSelect\r\n      tool = vals.tool\r\n    }\r\n  }\r\n  const mouseUp = (e) => {\r\n    isDrawing = false\r\n  }\r\n  const mouseMove = (e) => {\r\n    if (isDrawing) {\r\n      const location = { x: Math.floor((e.clientX - rect.left) / size), y: Math.floor((e.clientY - rect.top) / size) }\r\n      const col = getColor(location, params)\r\n      if (!(col===colorSelect) || tool==='erase') {\r\n        if (!(lastLoc.x === location.x && lastLoc.y === location.y) || tool==='erase') {\r\n          lastLoc = location\r\n          const vals = toolHandler(e, params, tool, colorSelect)\r\n          colorSelect = vals.colorSelect\r\n          tool = vals.tool\r\n        }\r\n      }\r\n    }\r\n  }\r\n  const undoButton = (e) => {\r\n    tool = 'undo'\r\n    const vals = toolHandler(e, params, tool, colorSelect)\r\n    colorSelect = vals.colorSelect\r\n    tool = vals.tool\r\n  }\r\n  const redoButton = (e) => {\r\n    tool = 'redo'\r\n    const vals = toolHandler(e, params, tool, colorSelect)\r\n    colorSelect = vals.colorSelect\r\n    tool = vals.tool\r\n  }\r\n\r\n  const toggleGrid = () => {\r\n    gridctx.clearRect(0, 0, canvasWidth, canvasHeight)\r\n    if (!grid) {\r\n      grid = true\r\n      for (let x = 0; x <= width; x++) {\r\n        gridctx.beginPath()\r\n        gridctx.moveTo(x * (size), 0)\r\n        gridctx.lineTo(x * (size), canvasHeight)\r\n        gridctx.strokeStyle = '#000000'\r\n        gridctx.stroke()\r\n      }\r\n      for (let y = 0; y <= height; y++) {\r\n        gridctx.beginPath()\r\n        gridctx.moveTo(0, y * (size))\r\n        gridctx.lineTo(canvasWidth, y * (size))\r\n        ctx.strokeStyle = '#000000'\r\n        gridctx.stroke()\r\n      }\r\n    } else {\r\n      grid = false\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar bg='light' expand='lg'>\r\n        <Navbar.Brand href='#home'>Pixel Perfect by MemeLords</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n      </Navbar>\r\n      <div className='row'>\r\n        <div className='leftcolumn'>\r\n          <div className='card'>\r\n            <GithubPicker\r\n              color={colorSelect}\r\n              width={275}\r\n              colors={colors}\r\n              triangle='hide'\r\n              onChangeComplete={color => { colorSelect = color.hex }}\r\n            />\r\n          </div>\r\n          <div className='card'>\r\n            <span>\r\n              <Button variant='primary' className='padding' onClick={() => { tool = 'draw' }}>Draw</Button>\r\n              <Button variant='danger' className='padding' onClick={() => { tool = 'erase' }}>Erase</Button>\r\n              <Button variant='primary' className='padding' onClick={() => { tool = 'fill' }}>Fill</Button>\r\n              <Button variant='primary' className='padding' onClick={() => { tool = 'picker' }}>Picker</Button>\r\n            </span>\r\n            <span>\r\n              <Button variant='warning' className='padding' onClick={(e) => { undoButton(e) }}>Undo</Button>\r\n              <Button variant='success' className='padding' onClick={(e) => { redoButton(e) }}>Redo</Button>\r\n              <a id='saveButton' download='my-image'><Button variant='info' className='padding' onClick={() => { save() }}>Save Image</Button></a>\r\n            </span>\r\n            <Button variant='primary' className='padding' onClick={() => { tool = 'mirror' }}>Mirror</Button>\r\n            <Button variant='primary' id=\"testTouch\" className='padding' onClick={() => {}}>Test Touch</Button>\r\n          </div>\r\n        </div>\r\n        <div className='rightcolumn'>\r\n          <div className='card'>\r\n            <canvas\r\n              width={canvasWidth}\r\n              height={canvasHeight}\r\n              id='gridcanvas'\r\n            />\r\n            <canvas\r\n              width={canvasWidth}\r\n              height={canvasHeight}\r\n              className='app'\r\n              id='canvas'\r\n              style={{ cursor: 'crosshair' }}\r\n            />\r\n\r\n          </div>\r\n          <div className='card'>\r\n            <span>\r\n              <Button variant='info' className='padding' onClick={() => { toggleGrid() }}>Toggle Grid</Button>\r\n              <span className='clear'>\r\n                <Button variant='danger' className='padding' onClick={() => { tool = clear(params) }}>Clear</Button>\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nconst rootElement = document.getElementById('root')\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  rootElement\r\n)\r\n"],"sourceRoot":""}