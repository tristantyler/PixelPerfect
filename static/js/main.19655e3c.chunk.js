(this["webpackJsonppixel-perfect"]=this["webpackJsonppixel-perfect"]||[]).push([[0],{115:function(e,a,t){e.exports=t(289)},285:function(e,a,t){},289:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),l=t(20),i=t.n(l),o=t(108),r=(t(285),t(296)),s=t(297),d=t(109),f=t(295);let m=[],h=[];const g=(e,a,t,c)=>{const n={x:Math.floor((e.pageX-(window.pageXOffset+a.canvas.getBoundingClientRect().left))/a.size),y:Math.floor((e.pageY-(window.pageYOffset+a.canvas.getBoundingClientRect().top))/a.size)};switch(t){case"fill":return n.x>=0&&n.x<a.canvasWidth&&n.y>=0&&n.y<a.canvasHeight&&c!==v(n,a)&&(m.push({color:v(n,a),prevColor:c,location:n,alpha:p(n,a),fill:!0}),u(n,c,a,a.canvasWidth/a.size,a.canvasHeight/a.size)),{colorSelect:c,tool:t};case"draw":return m.push({color:v(n,a),prevColor:c,location:n,alpha:p(n,a)}),a.ctx.fillStyle=c,a.ctx.fillRect(n.x*a.size,n.y*a.size,a.size,a.size),{colorSelect:c,tool:t};case"undo":if(m.length>0){if(m[m.length-1].fill)return m[m.length-1].alpha?u(m[m.length-1].location,m[m.length-1].color,a,a.canvasWidth/a.size,a.canvasHeight/a.size):u(m[m.length-1].location,"alpha",a,a.canvasWidth/a.size,a.canvasHeight/a.size),m.pop(),{colorSelect:c,tool:t="draw"};m[m.length-1].alpha?(a.ctx.fillStyle=m[m.length-1].color,a.ctx.fillRect(m[m.length-1].location.x*a.size,m[m.length-1].location.y*a.size,a.size,a.size),h.push({color:m[m.length-1].prevColor,location:m[m.length-1].location,alpha:m[m.length-1].alpha})):(a.ctx.clearRect(m[m.length-1].location.x*a.size,m[m.length-1].location.y*a.size,a.size,a.size),h.push({color:m[m.length-1].prevColor,location:m[m.length-1].location,alpha:0})),m.pop()}return{colorSelect:c,tool:t="draw"};case"redo":return h.length>0&&(a.ctx.fillStyle=h[h.length-1].color,a.ctx.fillRect(h[h.length-1].location.x*a.size,h[h.length-1].location.y*a.size,a.size,a.size),h.pop()),{colorSelect:c,tool:t="draw"};case"mirror":let e=a.canvasWidth/a.size-n.x-1;return m.push({color:v(n,a),prevColor:c,location:n}),m.push({color:v(n,a),prevColor:c,location:{x:e,y:n.y}}),a.ctx.fillStyle=c,a.ctx.fillRect(n.x*a.size,n.y*a.size,a.size,a.size),a.ctx.fillRect(e*a.size,n.y*a.size,a.size,a.size),{colorSelect:c,tool:t};case"erase":const l=p(n,a);return l&&(m.push({color:v(n,a),prevColor:c,location:n,alpha:l}),a.ctx.clearRect(n.x*a.size,n.y*a.size,a.size,a.size)),{colorSelect:c,tool:t};case"picker":return{colorSelect:c=v(n,a),tool:t="draw"};default:return a.ctx.clearRect(0,0,a.canvasWidth,a.canvasHeight),{colorSelect:c,tool:t}}},v=(e,a)=>{const t=a.ctx.getImageData(e.x*a.size,e.y*a.size,1,1).data;return"#"+("000000"+((e,a,t)=>{if(e>255||a>255||t>255)throw"Invalid color component";return(e<<16|a<<8|t).toString(16)})(t[0],t[1],t[2])).slice(-6)},p=(e,a)=>a.ctx.getImageData(e.x*a.size,e.y*a.size,1,1).data[3],u=(e,a,t,c,n)=>{let l=[];for(l.push(e),l.push(e),l.push(e),l.push(e);l.length>0;){l=l.filter((e,a,t)=>t.findIndex(a=>a.x===e.x&&a.y===e.y)===a);const i=l.shift(),o=v(i,t);"alpha"===a?t.ctx.clearRect(i.x*t.size,i.y*t.size,t.size,t.size):(t.ctx.fillStyle=a,t.ctx.fillRect(i.x*t.size,i.y*t.size,t.size,t.size));const r={x:i.x-1,y:i.y},s=v(r,t),d={x:i.x+1,y:i.y},f=v(d,t),m={x:i.x,y:i.y-1},h=v(m,t),g={x:i.x,y:i.y+1},p=v(g,t);r.x>=0&&s===o&&l.push(r),d.x<c&&e.x!==c&&f===o&&l.push(d),m.y>=0&&h===o&&l.push(m),g.y<n&&e.y!==n&&p===o&&l.push(g)}},E=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238","#ffffff","#000000"];var b=()=>{window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimaitonFrame||function(e){window.setTimeout(e,1e3/60)};let e,a,t,c,l,i,m,h={},p=!1,u={},b="#ff0000",x="draw",y=!1;document.addEventListener("DOMContentLoaded",()=>{e=document.getElementById("canvas"),a=e.getContext("2d"),t=e.getBoundingClientRect(),c=document.getElementById("gridcanvas"),l=c.getContext("2d"),u={canvas:e,ctx:a,rect:t,canvasWidth:400,canvasHeight:400,size:25,width:16,height:16,gridCanvas:c,gridctx:l},i=window.pageYOffset+e.getBoundingClientRect().top,m=window.pageXOffset+e.getBoundingClientRect().left,e.addEventListener("touchstart",z,!1),e.addEventListener("touchend",w,!1),e.addEventListener("touchcancel",w,!1),e.addEventListener("touchmove",I,!1),e.addEventListener("mousedown",C,!1),e.addEventListener("mouseup",S,!1),e.addEventListener("mousemove",K,!1),e.addEventListener("mouseleave",S,!1)});const z=e=>{const a=e.touches[0],t={x:Math.floor((a.pageX-m)/u.size),y:Math.floor((a.pageY-i)/u.size)},c=v(t,u);if(y=!0,c!==b||"erase"===x){h=t;const e=g(a,u,x,b);b=e.colorSelect,x=e.tool}},w=e=>{e.cancelable&&e.preventDefault(),y=!1},I=e=>{if(y){const a=e.touches[0],t={x:Math.floor((a.pageX-m)/u.size),y:Math.floor((a.pageY-i)/u.size)};if((v(t,u)!==b||"erase"===x)&&(h.x!==t.x||h.y!==t.y||"erase"===x)){h=t;const e=g(a,u,x,b);b=e.colorSelect,x=e.tool}}},C=e=>{const a={x:Math.floor((e.pageX-m)/u.size),y:Math.floor((e.pageY-i)/u.size)},t=v(a,u);if(y=!0,t!==b||"erase"===x){h=a;const t=g(e,u,x,b);b=t.colorSelect,x=t.tool}},S=e=>{y=!1},K=e=>{if(y){const a={x:Math.floor((e.pageX-m)/u.size),y:Math.floor((e.pageY-i)/u.size)};if((v(a,u)!==b||"erase"===x)&&(h.x!==a.x||h.y!==a.y||"erase"===x)){h=a;const t=g(e,u,x,b);b=t.colorSelect,x=t.tool}}};return n.a.createElement("div",null,n.a.createElement(r.a,{bg:"light",expand:"lg"},n.a.createElement(r.a.Brand,{href:"#home"},"Pixel Perfect by MemeLords"),n.a.createElement(r.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(r.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(s.a,null,n.a.createElement(s.a.Item,null,n.a.createElement("a",{id:"saveButton",download:"my-image"},n.a.createElement(d.a,{variant:"info",className:"padding",onClick:()=>{((e,a)=>{const t=document.getElementById("saveButton");e.toBlob((function(e){t.href=URL.createObjectURL(e)}),"image/png")})(e)}},"Save Image"))),n.a.createElement(s.a.Item,null,n.a.createElement(f.a,{onSelect:e=>{c.width=c.width,p=!1,((e,a)=>{const t=document.createElement("canvas"),c=t.getContext("2d");e.canvasWidth=e.width*a,e.canvasHeight=e.height*a,t.width=e.canvasWidth,t.height=e.canvasHeight,e.gridCanvas.width=e.canvasWidth,e.gridCanvas.height=e.canvasHeight,e.size=a,c.drawImage(e.canvas,0,0,e.width*a,e.height*a),e.canvas.width=e.width*a,e.canvas.height=e.height*a,e.ctx.drawImage(t,0,0),console.log(e)})(u,e)}},n.a.createElement(f.a.Toggle,{variant:"success",id:"dropdown-basic"},"Pixel Size (WIP)"),n.a.createElement(f.a.Menu,null,n.a.createElement(f.a.Item,{eventKey:15},"15"),n.a.createElement(f.a.Item,{eventKey:20},"20"),n.a.createElement(f.a.Item,{eventKey:25},"25"),n.a.createElement(f.a.Item,{eventKey:30},"30"),n.a.createElement(f.a.Item,{eventKey:35},"35"),n.a.createElement(f.a.Item,{eventKey:40},"40")))),n.a.createElement(s.a.Item,null,n.a.createElement(f.a,{onSelect:e=>{p=!1,((e,a)=>{const t=document.createElement("canvas"),c=t.getContext("2d");t.width=e.size*a,t.height=e.canvasHeight,c.drawImage(e.canvas,0,0),e.canvasWidth=e.size*a,e.gridCanvas.width=e.size*a,e.width=a,e.canvas.width=e.size*a,e.ctx.drawImage(t,0,0)})(u,e)}},n.a.createElement(f.a.Toggle,{variant:"success",id:"dropdown-basic"},"Canvas Width (WIP)"),n.a.createElement(f.a.Menu,null,n.a.createElement(f.a.Item,{eventKey:16},"16"),n.a.createElement(f.a.Item,{eventKey:20},"20"),n.a.createElement(f.a.Item,{eventKey:25},"25"),n.a.createElement(f.a.Item,{eventKey:30},"30"),n.a.createElement(f.a.Item,{eventKey:35},"35"),n.a.createElement(f.a.Item,{eventKey:40},"40"),n.a.createElement(f.a.Item,{eventKey:45},"45"),n.a.createElement(f.a.Item,{eventKey:50},"50"),n.a.createElement(f.a.Item,{eventKey:55},"55"),n.a.createElement(f.a.Item,{eventKey:60},"60")))),n.a.createElement(s.a.Item,null,n.a.createElement(f.a,{onSelect:e=>{p=!1,((e,a)=>{const t=document.createElement("canvas"),c=t.getContext("2d");t.width=e.canvasWidth,t.height=e.size*a,c.drawImage(e.canvas,0,0),e.canvasHeight=e.size*a,e.gridCanvas.height=e.size*a,e.height=a,e.canvas.width=e.canvasWidth,e.canvas.height=e.size*a,e.ctx.drawImage(t,0,0)})(u,e)}},n.a.createElement(f.a.Toggle,{variant:"success",id:"dropdown-basic"},"Canvas Height (WIP)"),n.a.createElement(f.a.Menu,null,n.a.createElement(f.a.Item,{eventKey:16},"16"),n.a.createElement(f.a.Item,{eventKey:20},"20"),n.a.createElement(f.a.Item,{eventKey:25},"25"),n.a.createElement(f.a.Item,{eventKey:30},"30"),n.a.createElement(f.a.Item,{eventKey:35},"35"),n.a.createElement(f.a.Item,{eventKey:40},"40"),n.a.createElement(f.a.Item,{eventKey:45},"45"),n.a.createElement(f.a.Item,{eventKey:50},"50"),n.a.createElement(f.a.Item,{eventKey:55},"55"),n.a.createElement(f.a.Item,{eventKey:60},"60"))))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"leftcolumn"},n.a.createElement("div",{className:"card"},n.a.createElement(o.GithubPicker,{color:b,width:275,colors:E,triangle:"hide",onChangeComplete:e=>{b=e.hex}})),n.a.createElement("div",{className:"card"},n.a.createElement("span",null,n.a.createElement(d.a,{variant:"primary",className:"padding",onClick:()=>{x="draw"}},"Draw"),n.a.createElement(d.a,{variant:"danger",className:"padding",onClick:()=>{x="erase"}},"Erase"),n.a.createElement(d.a,{variant:"primary",className:"padding",onClick:()=>{x="fill"}},"Fill"),n.a.createElement(d.a,{variant:"primary",className:"padding",onClick:()=>{x="picker"}},"Picker")),n.a.createElement("span",null,n.a.createElement(d.a,{variant:"warning",className:"padding",onClick:e=>{(e=>{x="undo";const a=g(e,u,x,b);b=a.colorSelect,x=a.tool})(e)}},"Undo"),n.a.createElement(d.a,{variant:"success",className:"padding",onClick:e=>{(e=>{x="redo";const a=g(e,u,x,b);b=a.colorSelect,x=a.tool})(e)}},"Redo")),n.a.createElement(d.a,{variant:"primary",className:"padding",onClick:()=>{x="mirror"}},"Mirror"))),n.a.createElement("div",{className:"rightcolumn"},n.a.createElement("div",{className:"card"},n.a.createElement("canvas",{width:400,height:400,id:"gridcanvas"}),n.a.createElement("canvas",{width:400,height:400,className:"app",id:"canvas",style:{cursor:"crosshair"}})),n.a.createElement("div",{className:"card"},n.a.createElement("span",null,n.a.createElement(d.a,{variant:"info",className:"padding",onClick:()=>{(e=>{if(e.gridctx.clearRect(0,0,e.canvasWidth,e.canvasHeight),p)p=!1;else{p=!0;for(let a=0;a<=e.width;a++)e.gridctx.beginPath(),e.gridctx.moveTo(a*e.size,0),e.gridctx.lineTo(a*e.size,e.canvasHeight),e.gridctx.strokeStyle="#000000",e.gridctx.stroke();for(let a=0;a<=e.height;a++)e.gridctx.beginPath(),e.gridctx.moveTo(0,a*e.size),e.gridctx.lineTo(e.canvasWidth,a*e.size),e.gridctx.strokeStyle="#000000",e.gridctx.stroke()}})(u)}},"Toggle Grid"),n.a.createElement("span",{className:"clear"},n.a.createElement(d.a,{variant:"danger",className:"padding",onClick:()=>{x=(e=>(e.ctx.clearRect(0,0,e.canvasWidth,e.canvasHeight),"draw"))(u)}},"Clear")))))))};const x=document.getElementById("root");i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null)),x)}},[[115,1,2]]]);
//# sourceMappingURL=main.19655e3c.chunk.js.map