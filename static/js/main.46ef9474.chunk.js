(this["webpackJsonppixel-perfect"]=this["webpackJsonppixel-perfect"]||[]).push([[0],{103:function(e,a,t){e.exports=t(277)},273:function(e,a,t){},277:function(e,a,t){"use strict";t.r(a);var c=t(0),l=t.n(c),o=t(21),n=t.n(o),i=t(98),s=(t(273),t(281)),r=t(282),f=t(280);let d=[],h=[];const m=(e,a,t,c)=>{const l={x:Math.floor((e.pageX-(window.pageXOffset+a.canvas.getBoundingClientRect().left))/a.size),y:Math.floor((e.pageY-(window.pageYOffset+a.canvas.getBoundingClientRect().top))/a.size)};switch(t){case"fill":return l.x>=0&&l.x<a.canvasWidth&&l.y>=0&&l.y<a.canvasHeight&&c!==g(l,a)&&(d.push({color:g(l,a),prevColor:c,location:l,alpha:p(l,a),fill:!0}),b(l,c,a,a.canvasWidth/a.size,a.canvasHeight/a.size)),{colorSelect:c,tool:t};case"draw":return d.push({color:g(l,a),prevColor:c,location:l,alpha:p(l,a)}),a.ctx.fillStyle=c,a.ctx.fillRect(l.x*a.size,l.y*a.size,a.size,a.size),{colorSelect:c,tool:t};case"undo":if(d.length>0){if(d[d.length-1].fill)return d[d.length-1].alpha?b(d[d.length-1].location,d[d.length-1].color,a,a.canvasWidth/a.size,a.canvasHeight/a.size):b(d[d.length-1].location,"alpha",a,a.canvasWidth/a.size,a.canvasHeight/a.size),d.pop(),{colorSelect:c,tool:t="draw"};d[d.length-1].alpha?(a.ctx.fillStyle=d[d.length-1].color,a.ctx.fillRect(d[d.length-1].location.x*a.size,d[d.length-1].location.y*a.size,a.size,a.size),h.push({color:d[d.length-1].prevColor,location:d[d.length-1].location,alpha:d[d.length-1].alpha})):(a.ctx.clearRect(d[d.length-1].location.x*a.size,d[d.length-1].location.y*a.size,a.size,a.size),h.push({color:d[d.length-1].prevColor,location:d[d.length-1].location,alpha:0})),d.pop()}return{colorSelect:c,tool:t="draw"};case"redo":return h.length>0&&(a.ctx.fillStyle=h[h.length-1].color,a.ctx.fillRect(h[h.length-1].location.x*a.size,h[h.length-1].location.y*a.size,a.size,a.size),h.pop()),{colorSelect:c,tool:t="draw"};case"mirror":let e=a.canvasWidth/a.size-l.x-1;return d.push({color:g(l,a),prevColor:c,location:l}),d.push({color:g(l,a),prevColor:c,location:{x:e,y:l.y}}),a.ctx.fillStyle=c,a.ctx.fillRect(l.x*a.size,l.y*a.size,a.size,a.size),a.ctx.fillRect(e*a.size,l.y*a.size,a.size,a.size),{colorSelect:c,tool:t};case"erase":const o=p(l,a);return o&&(d.push({color:g(l,a),prevColor:c,location:l,alpha:o}),a.ctx.clearRect(l.x*a.size,l.y*a.size,a.size,a.size)),{colorSelect:c,tool:t};case"picker":return{colorSelect:c=p(l,a),tool:t="draw"};default:return a.ctx.clearRect(0,0,a.canvasWidth,a.canvasHeight),{colorSelect:c,tool:t}}},g=(e,a)=>{const t=a.ctx.getImageData(e.x*a.size,e.y*a.size,1,1).data;return"#"+("000000"+((e,a,t)=>{if(e>255||a>255||t>255)throw"Invalid color component";return(e<<16|a<<8|t).toString(16)})(t[0],t[1],t[2])).slice(-6)},p=(e,a)=>a.ctx.getImageData(e.x*a.size,e.y*a.size,1,1).data[3],b=(e,a,t,c,l)=>{let o=[];for(o.push(e),o.push(e),o.push(e),o.push(e);o.length>0;){o=o.filter((e,a,t)=>t.findIndex(a=>a.x===e.x&&a.y===e.y)===a);const n=o.shift(),i=g(n,t);"alpha"===a?t.ctx.clearRect(n.x*t.size,n.y*t.size,t.size,t.size):(t.ctx.fillStyle=a,t.ctx.fillRect(n.x*t.size,n.y*t.size,t.size,t.size));const s={x:n.x-1,y:n.y},r=g(s,t),f={x:n.x+1,y:n.y},d=g(f,t),h={x:n.x,y:n.y-1},m=g(h,t),p={x:n.x,y:n.y+1},b=g(p,t);s.x>=0&&r===i&&o.push(s),f.x<c&&e.x!==c&&d===i&&o.push(f),h.y>=0&&m===i&&o.push(h),p.y<l&&e.y!==l&&b===i&&o.push(p)}},u=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723","#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238","#ffffff","#000000"];var v=()=>{window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimaitonFrame||function(e){window.setTimeout(e,1e3/60)};let e,a,t,c,o,n,d,h={},p=!1,b={},v="#ff0000",x="draw",z=!1;document.addEventListener("DOMContentLoaded",()=>{e=document.getElementById("canvas"),a=e.getContext("2d"),t=e.getBoundingClientRect(),c=document.getElementById("gridcanvas"),o=c.getContext("2d"),b={canvas:e,ctx:a,rect:t,canvasWidth:400,canvasHeight:400,size:25,width:16,height:16},n=window.pageYOffset+e.getBoundingClientRect().top,d=window.pageXOffset+e.getBoundingClientRect().left,e.addEventListener("touchstart",y,!1),e.addEventListener("touchend",E,!1),e.addEventListener("touchcancel",E,!1),e.addEventListener("touchmove",w,!1),e.addEventListener("mousedown",C,!1),e.addEventListener("mouseup",S,!1),e.addEventListener("mousemove",R,!1),e.addEventListener("mouseleave",S,!1)});const y=e=>{const a=e.touches[0],t={x:Math.floor((a.pageX-d)/b.size),y:Math.floor((a.pageY-n)/b.size)},c=g(t,b);if(z=!0,c!==v||"erase"===x){h=t;const e=m(a,b,x,v);v=e.colorSelect,x=e.tool}},E=e=>{e.cancelable&&e.preventDefault(),z=!1},w=e=>{if(z){const a=e.touches[0],t={x:Math.floor((a.pageX-d)/b.size),y:Math.floor((a.pageY-n)/b.size)};if((g(t,b)!==v||"erase"===x)&&(h.x!==t.x||h.y!==t.y||"erase"===x)){h=t;const e=m(a,b,x,v);v=e.colorSelect,x=e.tool}}},C=e=>{const a={x:Math.floor((e.pageX-d)/b.size),y:Math.floor((e.pageY-n)/b.size)},t=g(a,b);if(z=!0,t!==v||"erase"===x){h=a;const t=m(e,b,x,v);v=t.colorSelect,x=t.tool}},S=e=>{z=!1},R=e=>{if(z){const a={x:Math.floor((e.pageX-d)/b.size),y:Math.floor((e.pageY-n)/b.size)};if((g(a,b)!==v||"erase"===x)&&(h.x!==a.x||h.y!==a.y||"erase"===x)){h=a;const t=m(e,b,x,v);v=t.colorSelect,x=t.tool}}};return l.a.createElement("div",null,l.a.createElement(s.a,{bg:"light",expand:"lg"},l.a.createElement(s.a.Brand,{href:"#home"},"Pixel Perfect by MemeLords"),l.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(r.a,null,l.a.createElement(r.a.Item,null,l.a.createElement("a",{id:"saveButton",download:"my-image"},l.a.createElement(f.a,{variant:"info",className:"padding",onClick:()=>{((e,a)=>{console.log(a);const t=document.getElementById("saveButton");e.toBlob((function(e){t.href=URL.createObjectURL(e),console.log(e),console.log(t.href)}),"image/png")})(e)}},"Save Image")))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"leftcolumn"},l.a.createElement("div",{className:"card"},l.a.createElement(i.GithubPicker,{color:v,width:275,colors:u,triangle:"hide",onChangeComplete:e=>{v=e.hex}})),l.a.createElement("div",{className:"card"},l.a.createElement("span",null,l.a.createElement(f.a,{variant:"primary",className:"padding",onClick:()=>{x="draw"}},"Draw"),l.a.createElement(f.a,{variant:"danger",className:"padding",onClick:()=>{x="erase"}},"Erase"),l.a.createElement(f.a,{variant:"primary",className:"padding",onClick:()=>{x="fill"}},"Fill"),l.a.createElement(f.a,{variant:"primary",className:"padding",onClick:()=>{x="picker"}},"Picker")),l.a.createElement("span",null,l.a.createElement(f.a,{variant:"warning",className:"padding",onClick:e=>{(e=>{x="undo";const a=m(e,b,x,v);v=a.colorSelect,x=a.tool})(e)}},"Undo"),l.a.createElement(f.a,{variant:"success",className:"padding",onClick:e=>{(e=>{x="redo";const a=m(e,b,x,v);v=a.colorSelect,x=a.tool})(e)}},"Redo")),l.a.createElement(f.a,{variant:"primary",className:"padding",onClick:()=>{x="mirror"}},"Mirror"))),l.a.createElement("div",{className:"rightcolumn"},l.a.createElement("div",{className:"card"},l.a.createElement("canvas",{width:400,height:400,id:"gridcanvas"}),l.a.createElement("canvas",{width:400,height:400,className:"app",id:"canvas",style:{cursor:"crosshair"}})),l.a.createElement("div",{className:"card"},l.a.createElement("span",null,l.a.createElement(f.a,{variant:"info",className:"padding",onClick:()=>{(()=>{if(o.clearRect(0,0,b.canvasWidth,b.canvasHeight),p)p=!1;else{p=!0;for(let e=0;e<=16;e++)o.beginPath(),o.moveTo(e*b.size,0),o.lineTo(e*b.size,b.canvasHeight),o.strokeStyle="#000000",o.stroke();for(let e=0;e<=16;e++)o.beginPath(),o.moveTo(0,e*b.size),o.lineTo(b.canvasWidth,e*b.size),a.strokeStyle="#000000",o.stroke()}})()}},"Toggle Grid"),l.a.createElement("span",{className:"clear"},l.a.createElement(f.a,{variant:"danger",className:"padding",onClick:()=>{x=(e=>(e.ctx.clearRect(0,0,e.canvasWidth,e.canvasHeight),"draw"))(b)}},"Clear")))))))};const x=document.getElementById("root");n.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v,null)),x)}},[[103,1,2]]]);
//# sourceMappingURL=main.46ef9474.chunk.js.map